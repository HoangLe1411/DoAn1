@{
    ViewData["Title"] = "Chính sách & Quy định";
    ViewBag.SiteName = "Loop Store";
}

<style>
    .policy-wrapper {
        display: flex;
        max-height: 80vh;
        border: 1px solid #ddd;
        border-radius: 6px;
        overflow: hidden;
        font-family: Arial, sans-serif;
    }

    .policy-sidebar {
        width: 250px;
        padding: 20px;
        border-right: 1px solid #ddd;
        background-color: #f9f9f9;
    }

    .policy-sidebar ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    .policy-sidebar ul li {
        margin-bottom: 10px;
    }

    .policy-sidebar ul li a {
        color: #333;
        text-decoration: none;
        font-weight: 600;
        display: block;
        padding: 8px 12px;
        border-left: 3px solid transparent;
        transition: all 0.3s ease;
        border-radius: 4px;
    }

    .policy-sidebar ul li a:hover,
    .policy-sidebar ul li a.active {
        color: #007bff;
        border-left-color: #007bff;
        background-color: #e7f1ff;
    }

    .policy-content {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
    }

    .policy-content section {
        margin-bottom: 40px;
    }

    .policy-content h2 {
        color: #007bff;
        margin-bottom: 12px;
    }

    .policy-content p, .policy-content ol {
        line-height: 1.5;
    }
</style>

<div class="policy-wrapper">
    <nav class="policy-sidebar" id="policy-nav">
        <ul>
            <li><a href="#gioithieu" class="policy-link active">Giới thiệu</a></li>
            <li><a href="#quyche" class="policy-link">Quy chế hoạt động</a></li>
            <li><a href="#baomat" class="policy-link">Chính sách bảo mật</a></li>
            <li><a href="#doitra" class="policy-link">Chính sách đổi trả</a></li>
            <li><a href="#baohanh" class="policy-link">Chính sách bảo hành</a></li>
            <li><a href="#hoantien" class="policy-link">Chính sách hoàn tiền</a></li>
            <li><a href="#cauhoi" class="policy-link">Câu hỏi thường gặp</a></li>
        </ul>
    </nav>

    <main class="policy-content" id="policy-content">
        <section id="gioithieu">
            <h2>Giới thiệu</h2>
            <p>Loop Store là nền tảng mua bán trực tuyến giúp kết nối người bán và người mua. Chúng tôi cam kết vận hành minh bạch, an toàn và hỗ trợ người dùng toàn diện.</p>
        </section>

        <section id="quyche">
            <h2>Quy chế hoạt động</h2>
            <p>Người dùng khi đăng ký phải cung cấp thông tin chính xác; người bán chịu trách nhiệm về thông tin sản phẩm; mọi hoạt động trái pháp luật sẽ bị xử lý.</p>
        </section>

        <section id="baomat">
            <h2>Chính sách bảo mật</h2>
            <p>Chúng tôi tôn trọng quyền riêng tư. Thông tin cá nhân được thu thập chỉ nhằm phục vụ giao dịch, hỗ trợ khách hàng và tuân thủ pháp luật. Quý khách có quyền truy cập, chỉnh sửa và yêu cầu xóa dữ liệu theo quy định.</p>
            <h3>Thu thập dữ liệu</h3>
            <p>Họ tên, email, số điện thoại, địa chỉ, dữ liệu giao dịch, dữ liệu thiết bị (IP, user agent), cookie.</p>
            <h3>Sử dụng & chia sẻ</h3>
            <p>Chúng tôi sử dụng dữ liệu để xử lý đơn hàng, thanh toán, giao nhận và cải thiện dịch vụ; chia sẻ với đối tác thanh toán và vận chuyển khi cần.</p>
        </section>

        <section id="doitra">
            <h2>Chính sách đổi trả</h2>
            <p>Nội dung đổi trả ...</p>
        </section>

        <section id="baohanh">
            <h2>Chính sách bảo hành</h2>
            <p>Nội dung bảo hành ...</p>
        </section>

        <section id="hoantien">
            <h2>Chính sách hoàn tiền</h2>
            <p>Hoàn tiền áp dụng khi sản phẩm lỗi, giao nhầm, hoặc sự cố thanh toán. Yêu cầu phải nộp trong 7 ngày kể từ ngày nhận hàng và kèm bằng chứng (ảnh/video).</p>
            <h3>Quy trình</h3>
            <ol>
                <li>Gửi yêu cầu tới support@yourcompany.com hoặc hotline.</li>
                <li>CSKH tiếp nhận và xác minh trong 1–3 ngày làm việc.</li>
                <li>Nếu hợp lệ, hoàn tiền theo phương thức ban đầu trong 3–7 ngày làm việc.</li>
            </ol>
        </section>

        <section id="cauhoi">
            <h2>Câu hỏi thường gặp</h2>
            <p>Tham khảo FAQ để biết thêm thông tin về đăng tin, phí dịch vụ, bảo mật và hoàn tiền.</p>
        </section>
    </main>
</div>

@section Scripts {
    <script>
        (function() {
            const nav = document.getElementById('policy-nav');
            const content = document.getElementById('policy-content');
            const links = nav.querySelectorAll('a.policy-link');
            const sections = content.querySelectorAll('section');

            // Scroll content to section khi click menu bên trái
            links.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    if (!targetSection) return;
                    content.scrollTo({
                        top: targetSection.offsetTop,
                        behavior: 'smooth'
                    });
                });
            });

            // Bật/tắt class active menu khi scroll nội dung
            content.addEventListener('scroll', () => {
                let currentSectionId = null;
                const scrollPos = content.scrollTop;
                sections.forEach(section => {
                    if (section.offsetTop <= scrollPos + 10) {
                        currentSectionId = section.id;
                    }
                });

                links.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href') === '#' + currentSectionId);
                });
            });
        })();
    </script>
}
